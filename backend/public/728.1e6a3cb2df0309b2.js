"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[728],{9728:(w,m,l)=>{l.r(m),l.d(m,{DashboardModule:()=>x});var p=l(9808),c=l(4521),i=l(3075),t=l(7587),b=l(1579),u=l(4619),d=l(9966);function Z(n,a){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function A(n,a){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}const _=function(n,a){return{"bg-success":n,"bg-danger":a}},T=function(n,a){return{"badge-success":n,"badge-light-success":a}},v=function(n,a){return{"badge-warning":n,"badge-light-warning":a}},C=function(n,a){return{"badge-primary":n,"badge-light-primary":a}},D=function(n,a){return{"badge-danger":n,"badge-light-danger":a}};function y(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"div",29),t._UZ(3,"span",30),t.qZA()(),t.TgZ(4,"td")(5,"a",31),t._uU(6),t.ALo(7,"date"),t.qZA()(),t.TgZ(8,"td")(9,"a",31),t._uU(10),t.qZA()(),t.TgZ(11,"td")(12,"a",31),t._uU(13),t.qZA(),t.TgZ(14,"span",32),t._uU(15),t.qZA()(),t.TgZ(16,"td",33),t._uU(17),t.ALo(18,"slice"),t.qZA(),t.TgZ(19,"td")(20,"a",34),t._uU(21,"Confirm"),t.qZA(),t.TgZ(22,"a",35),t._uU(23,"Cancel"),t.qZA(),t.TgZ(24,"a",36),t._uU(25,"Reschedule"),t.qZA(),t.TgZ(26,"a",37),t._uU(27,"Remove"),t.qZA()(),t.TgZ(28,"td",38),t._uU(29," 12:00 "),t.qZA(),t.TgZ(30,"td",38),t._uU(31),t.qZA(),t.TgZ(32,"td",38)(33,"button",39),t._uU(34,"Print Bill"),t.qZA()(),t.TgZ(35,"td",38)(36,"a",40),t._UZ(37,"span",41),t.qZA(),t.TgZ(38,"a",42),t._UZ(39,"span",41),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(3),t.Q6J("ngClass",t.WLB(20,_,e.about_client,!e.about_client)),t.xp6(3),t.hij(" ",t.xi3(7,13,e.date_of_appointment,"medium")," "),t.xp6(4),t.hij(" ",e.client_type," "),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.mobile_num," "),t.xp6(2),t.hij(" ",t.Dn7(18,16,e.about_client,0,17),".... "),t.xp6(3),t.Q6J("ngClass",t.WLB(23,T,"CONFIRM"===e.status,"CONFIRM"!==e.status)),t.xp6(2),t.Q6J("ngClass",t.WLB(26,v,"CANCEL"===e.status,"CANCEL"!==e.status)),t.xp6(2),t.Q6J("ngClass",t.WLB(29,C,"RESCHEDULE"===e.status,"RESCHEDULE"!==e.status)),t.xp6(2),t.Q6J("ngClass",t.WLB(32,D,"REMOVE"===e.status,"REMOVE"!==e.status)),t.xp6(5),t.hij(" ",e.payment_status," "),t.xp6(6),t.Q6J("inlineSVG","./assets/media/icons/duotune/art/art005.svg"),t.xp6(2),t.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen027.svg")}}const U=function(n,a){return{itemsPerPage:n,currentPage:a}};let q=(()=>{class n{constructor(e,o,s){this.appointmentService=e,this.router=o,this.changeDetector=s,this.activeTab="kt_table_widget_5_tab_1",this.appointmentsData=[],this.noFilter=!0,this.itemsPerPageOptions=[5,10,15,20],this.appointmentTypes=["New Registration","Re Registration","Diet Change"],this.filteredAppointmentsData=[],this.itemsPerPage=5}toEditPage(e){this.router.navigate(["/appointments",e.npat_id,"edit"])}changeItemsPerPage(){var e;const o=null===(e=this.filterForm.get("itemsPerPage"))||void 0===e?void 0:e.value;this.itemsPerPage=o,this.changeDetector.detectChanges()}setTab(e){this.activeTab=e}activeClass(e){return e===this.activeTab?"show active":""}getAppointments(){this.appointmentService.getAppointments().subscribe(e=>{console.log(e),this.appointmentsData=e,this.changeDetector.detectChanges()})}pageChanged(e){this.pageNum=e}deleteAppointment(e){confirm("Are you sure you want to delete this row?")&&this.appointmentService.deleteAppointment(null==e?void 0:e.npat_id).subscribe(s=>{this.getAppointments()})}onDateFilter(){const{date1:e,date2:o}=this.filterForm.value;e&&o&&this.appointmentService.getAppointmentBetweenDates(e,o).subscribe(s=>{this.filteredAppointmentsData=s,console.log(this.filteredAppointmentsData),this.filteredAppointmentsData.length>0&&(this.noFilter=!1,this.changeDetector.detectChanges())})}onChooseFilter(){const e=this.filterForm.value,{name:o,appointmentType:s,date1:g,date2:N}=e;if(!(o&&s&&g&&N))return this.noFilter=!0,void(this.filteredAppointmentsData=[]);if(s){const f=this.appointmentsData.filter(r=>r.appointment_for===s);this.filteredAppointmentsData=this.filteredAppointmentsData.filter(r=>r.appointment_for===s),f.forEach(r=>{this.filteredAppointmentsData.includes(r)||this.filteredAppointmentsData.push(r)})}o&&this.appointmentsData.filter(r=>r.name.startsWith(o)).forEach(r=>{this.filteredAppointmentsData.includes(r)||this.filteredAppointmentsData.push(r)}),this.filteredAppointmentsData.length>0&&(this.noFilter=!1,this.changeDetector.detectChanges())}toAddClient(e){this.router.navigate(["/appointments",e.npat_id,"add-client"])}ngOnInit(){this.getAppointments(),this.filterForm=new i.cw({itemsPerPage:new i.NI(5),appointmentType:new i.NI(null),name:new i.NI(null),date1:new i.NI(null),date2:new i.NI(null)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.O),t.Y36(c.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:70,vars:10,consts:[[1,"bg-white","p-4","rounded-2"],[1,"p-4",3,"formGroup"],[1,"row","mb-10"],[1,"col-md-4","col-xl-4"],["for","show",1,"col-form-label","text-lg-end"],[1,"col-lg-9","col-xl-6"],["formControlName","itemsPerPage","id","show","name","model.header.left",1,"form-select","form-select-solid",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],["for","appointType",1,"col-form-label","text-lg-end"],["formControlName","appointmentType","id"," appointType","name","model.header.left",1,"form-select","form-select-solid",3,"change"],["for","name",1,"col-form-label","text-lg-end"],["type","text","id","name","formControlName","name",1,"form-control","form-control-solid",3,"keyup"],["for","date1",1,"col-form-label","text-lg-end"],["type","date","id","date1","formControlName","date1",1,"form-control","form-control-solid",3,"change"],["for","date2",1,"col-form-label","text-lg-end"],["type","date","id","date2","formControlName","date2",1,"form-control","form-control-solid",3,"change"],[3,"pageChange"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-bordered","table-row-gray-100","align-middle","gs-0","gy-3"],[1,"fw-bolder","text-muted"],[1,"min-w-150px"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px","text-end"],[1,"min-w-120px","text-end"],[4,"ngFor","ngForOf"],[3,"value"],[1,"symbol","symbol-40px"],[1,"symbol-label",3,"ngClass"],[1,"text-dark","fw-bolder","text-hover-primary","d-block","mb-1","fs-6"],[1,"text-muted","fw-bold","text-muted","d-block","fs-7"],[1,"text-dark","fw-bolder","text-hover-primary","fs-6"],[1,"badge",2,"cursor","pointer",3,"ngClass"],[1,"badge","badge-light-warning",2,"cursor","pointer",3,"ngClass"],[1,"badge","badge-light-primary",2,"cursor","pointer",3,"ngClass"],[1,"badge","badge-light-danger",2,"cursor","pointer",3,"ngClass"],[1,"text-end"],["type","button",1,"btn-primary","btn","btn-sm"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5,"Show"),t.qZA(),t.TgZ(6,"div",5)(7,"select",6),t.NdJ("change",function(){return o.changeItemsPerPage()}),t.YNc(8,Z,2,2,"option",7),t.qZA(),t.TgZ(9,"div",8),t._uU(10," Number of record to show "),t.qZA()()(),t.TgZ(11,"div",3)(12,"label",9),t._uU(13,"Appointment Type"),t.qZA(),t.TgZ(14,"div",5)(15,"select",10),t.NdJ("change",function(){return o.onChooseFilter()}),t.YNc(16,A,2,2,"option",7),t.qZA(),t.TgZ(17,"div",8),t._uU(18," Number of record to show "),t.qZA()()(),t.TgZ(19,"div",3)(20,"label",11),t._uU(21,"Client's Name:"),t.qZA(),t.TgZ(22,"div",5)(23,"input",12),t.NdJ("keyup",function(){return o.onChooseFilter()}),t.qZA(),t.TgZ(24,"div",8),t._uU(25," Enter Client's Name"),t.qZA()()()(),t.TgZ(26,"div",2)(27,"div",3)(28,"label",13),t._uU(29,"Start Date:"),t.qZA(),t.TgZ(30,"div",5)(31,"input",14),t.NdJ("change",function(){return o.onDateFilter()}),t.qZA(),t.TgZ(32,"div",8),t._uU(33," Select start date"),t.qZA()()(),t.TgZ(34,"div",3)(35,"label",15),t._uU(36,"End Date:"),t.qZA(),t.TgZ(37,"div",5)(38,"input",16),t.NdJ("change",function(){return o.onDateFilter()}),t.qZA(),t.TgZ(39,"div",8),t._uU(40," Select end date"),t.qZA()()()()(),t.TgZ(41,"pagination-controls",17),t.NdJ("pageChange",function(g){return o.pageChanged(g)}),t.qZA(),t.TgZ(42,"div",18)(43,"div",19)(44,"table",20)(45,"thead")(46,"tr",21)(47,"th",22),t._uU(48,"Blood Report/Weight Check Status"),t.qZA(),t.TgZ(49,"th",23),t._uU(50,"Time Slot"),t.qZA(),t.TgZ(51,"th",24),t._uU(52,"Type"),t.qZA(),t.TgZ(53,"th",24),t._uU(54,"Name/Phone"),t.qZA(),t.TgZ(55,"th",24),t._uU(56,"Description"),t.qZA(),t.TgZ(57,"th",24),t._uU(58,"Status"),t.qZA(),t.TgZ(59,"th",25),t._uU(60,"Checn In/Out"),t.qZA(),t.TgZ(61,"th",26),t._uU(62,"Payment Status"),t.qZA(),t.TgZ(63,"th",26),t._uU(64,"Bill Receipt"),t.qZA(),t.TgZ(65,"th",25),t._uU(66,"Actions"),t.qZA()()(),t.TgZ(67,"tbody"),t.YNc(68,y,40,35,"tr",27),t.ALo(69,"paginate"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.filterForm),t.xp6(7),t.Q6J("ngForOf",o.itemsPerPageOptions),t.xp6(8),t.Q6J("ngForOf",o.appointmentTypes),t.xp6(52),t.Q6J("ngForOf",t.xi3(69,4,o.appointmentsData,t.WLB(7,U,o.itemsPerPage,o.pageNum))))},dependencies:[p.mk,p.sg,u.d$,d.LS,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u,p.OU,p.uU,d._s]}),n})();var h=l(4230);let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,c.Bz.forChild([{path:"",component:q}]),h.HB,h._9,u.vi,d.JX,i.UX]}),n})()}}]);